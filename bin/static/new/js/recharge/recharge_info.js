/**
 * rechargeB - rechargeB详情
 * @version v1.0.0
 * @link 
 * @license ISC
 */
function timedCount(){var e=$(".js_show_entycode i").text();$(".js_show_entycode i").text(e-1),t=setTimeout("timedCount()",1e3),0==e&&(clearTimeout(t),$(".js_get_entycode").show(),$(".js_show_entycode i").text(61),$(".js_show_entycode").hide())}require(["../require-config"],function(){require(["zepto","yanzheng","add_bounced","ajax_rule","iosselect","date_day"],function($,e,a,t,s,n){$(function(){function _(e){var a={captcha:e,mobile:$(".js_message_tel").val()};t.ajax_rule("/prepaid/v1/api/c/captcha","POST","json",a,".zheceng",i,r)}function i(){$(".js_code").parents("dl").removeClass("error_data"),$(".js_alert_message_disa").hide(),$(".js_alert_message").show()}function r(){$(".js_code").parents("dl").addClass("error_data"),$(".js_alert_message_disa").show(),$(".js_alert_message").hide()}function o(e){$(".js_get_entycode").hide(),$(".js_show_entycode").show(),timedCount()}function d(e){$(".js_shopname").text(e.shopname)}function c(e){$(".js_message_tel").val(e.mobile)}function l(){var a={c:e.get_hash("c"),h:e.get_hash("h"),o:e.get_hash("o"),grid_index:e.get_hash("grid_index")};t.ajax_rule("/prepaid/v1/api/c/recharge","POST","json",a,".zheceng2",h)}function h(e){window.location.href=e.url}function g(e){$(e).parents("dl").addClass("error_data")}function g(e){$(e).parents("dl").addClass("error_data")}function u(e){$(e).parents("dl").removeClass("error_data")}function j(e){return e<10?"0"+e:e}$(".js_bindinfo").get(0)&&~function(){$(document).ready(function(){$("#birthday").val("1980-1-1"),$(".js_message_birth").attr("data-year","1980"),$(".js_message_birth").attr("data-month","1"),$(".js_message_birth").attr("data-day","1");var a={h:e.get_hash("h")};t.ajax_rule("/prepaid/v1/api/c/merchant_info","GET","json",a,".zheceng",d)})}(),$(".js_bindinfo_confirm").get(0)&&~function(){$(document).ready(function(){var a={h:e.get_hash("h")};t.ajax_rule("/prepaid/v1/api/c/merchant_info","GET","json",a,".zheceng",d);var s={c:e.get_hash("c")};t.ajax_rule("/prepaid/v1/api/c/bindinfo","GET","json",s,".zheceng1",c)}),$(".js_alert_message2").on("click",function(){l()})}(),$(".js_get_entycode").on("click",function(){if(e.tel_test_all(".js_message_tel",g,u),$(".js_message_tel").parents("dl").hasClass("error_data"))return!1;var a=$(".js_message_tel").val(),s="/prepaid/v1/api/c/captcha",n={c:e.get_hash("c"),mobile:a};t.ajax_rule(s,"GET","json",n,".zheceng",o)}),$(".js_show_entycode").on("click",function(){$(".alert_con").show(),$(".alert_con .alert_con_br").html("一分钟后再次获取！"),$(".zheceng").show()}),$(".js_message_birth").on("click",function(){var e=document.querySelector(".js_message_birth"),a=e.dataset.year,t=e.dataset.month,_=e.dataset.day;n.time_free.start_year=1947,n.time_free.end_year=n.nowYear;new s(3,[n.yearData,n.monthData,n.dateData],{container:".ios_select_container",title:"选择生日日期",itemHeight:50,itemShowCount:3,relation:[1,1,0,0],oneLevelId:a,twoLevelId:t,threeLevelId:_,callback:function(a,t,s){e.dataset.year=a.id,e.dataset.month=t.id,e.dataset.day=s.id,e.value=a.id+"年"+t.id+"月"+s.id+"日",$("#birthday").val(a.id+"-"+t.id+"-"+s.id)}})}),$(".js_alert_message").on("click",function(){var a=$(".js_message_name").val(),s=$(".js_message_birth").val(),n=$(".js_message_tel").val(),_=$(".js_code").val();if(e.tel_test_all(".js_message_tel",g,u),e.china_test_all(".js_message_name",0,4,g,u),e.detail_test_all(".js_message_birth",-1,20,g,u),s){var i=$("#birthday").val().split("-"),r=i[0],o=j(i[1]),d=j(i[2]);s=r+"-"+o+"-"+d,$("#birthday").val(r+"-"+o+"-"+d)}e.code_test_all(".js_code",g,u);var c=$(".error_data").length;if(c>0)return!1;var h={c:e.get_hash("c"),grid_index:e.get_hash("grid_index"),name:a,mobile:n,birthday:s,captcha:_};t.ajax_rule("/prepaid/v1/api/c/bindinfo","POST","json",h,".zheceng1",l)}),$(".js_code").on("input",function(){$(".js_message_tel").val();if(e.tel_test_all(".js_message_tel",g,u),$(".js_message_tel").parents("dl").hasClass("error_data"))return $(this).val(""),!1;var a=$(this).val(),t=a.replace(/[^\d]/g,"");return t.length<6?($(this).val(t),!1):($(this).val(t.substr(0,6)),void _($(this).val()))}),a.add_bounced(),a.close_tip()})})});