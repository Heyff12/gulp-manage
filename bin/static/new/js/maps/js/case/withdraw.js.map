{"version":3,"sources":["case/withdraw.js"],"names":["getEvent","window","event","func","caller","arg0","Event","constructor","MouseEvent","KeyboardEvent","_typeof","preventDefault","stopPropagation","tan_error","e","$","show","sub_draw","draw_pass","val","ajax","url","dataType","beforeSend","data","css","respcd","hide","html","return_data","text","auth_code","sub_draw_diff","error","XMLHttpRequest","textStatus","errorThrown","diff_crash","now_date","now_date_val","txamt","toFixed","success","detail_biz_sn","biz_sn","location","href","complete","get_withdraw","type","procedure_fee","return_fee","return_fee_max","txamt_max","return_fee_min","txamt_min","return_feeday_min","card_issuing_bank","eta","get_diffcrash","id","diff_all","if_difftime","diff_val","diff_iftime","withdraw_range","diff_time_s","withdraw_st","diff_time_e","diff_ing","is_last_withdrawing","n_date","Date","getFullYear","n_date_year","n_date_mon","tow_num","getMonth","n_date_day","n_date_h","getHours","n_date_m","getMinutes","n_date_mm","getSeconds","n_date_end","arm","arm_num","substr","arm_num_end","pass_draw","id_val","length","id_val_l","removeClass","alert_top","alert_height","height","mar_t","get","price_ctl","integer_l","decimal_l","price","price_change","replace","integer_first","integer","decimal","split","document","ready","resize","on","crash_all","crash_max","crash_min","siblings","crash_all_big","crash_now_str","this","crash_now_strend","toString","crash_b_max","crash_now","red_num"],"mappings":"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","file":"../../../case/withdraw.js","sourcesContent":["\n//余额提现操作页-----------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_diff_index').get(0) && (~ function() {\n    $(document).ready(function() {       \n        //获取账户余额--todo\n        //get_diffcrash('.js_diff_nump_withdraw');\n        //获取体现页面信息--todo\n        //get_withdraw();\n    });\n    $(window).resize(function() {\n        alert_top('#pass_input');\n        alert_top('#tips_alert');\n    });\n    //全部提现\n    $('.js_crash_all').on('click', function() {\n        var crash_all = $('.js_diff_nump_withdraw').text() - 0;\n        var crash_max = $('.js_price_max').text() - 0;\n        var crash_min = $('.js_price_min').text() - 0;\n        var crash_all_big;\n        if (crash_all > crash_max) {\n            $('.js_dd_red_emax').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_fail_draw').hide();\n            $('.js_diff_sub_draw').show().css('display', 'inline-block');\n            crash_all_big = crash_max;\n        } else if (crash_all >= crash_min) {\n            $('.js_dd_grey').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_fail_draw').hide();\n            $('.js_diff_sub_draw').show().css('display', 'inline-block');\n            crash_all_big = crash_all;\n        } else {\n            $('.js_dd_red_emin').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_fail_draw').show();\n            $('.js_diff_sub_draw').hide();\n            crash_all_big = crash_all;\n        }\n        $('.js_diff_crash').val(crash_all_big);\n    });\n    var carsh_bef = $('.js_diff_crash').val(); //保留上一次的值   \n    //输入提现金额keyup事件\n    //$('.js_diff_crash').on('keyup',function(){\n    // $('.js_diff_crash').on('input', function() {\n    //     // console.log(carsh_bef);\n    //     var crash_now_str = $(this).val();\n    //     //如果输入为空展示全部提现\n    //     if (crash_now_str.length == 0) {\n    //         $(this).val('');\n    //         $('.js_dd_grey').show().siblings('dd.errordd_tip').hide();\n    //         $('.js_diff_sub_draw').hide();\n    //         $('.js_diff_fail_draw').show();\n    //         return false;\n    //     }\n    //     //字符长的时候减小字号\n    //     if (crash_now_str.length <= 10) {\n    //         $(this).css('font-size', '1.1rem');\n    //     } else {\n    //         $(this).css('font-size', '0.8rem');\n    //     }\n    //     //将非.和数字的字符替换为空\n    //     var crash_now_strend = crash_now_str.replace(/[^\\.\\d]/g, '');\n    //     //整数部分最长12位start\n    //     var crash_end_z = crash_now_strend.split('.')[0];\n    //     //如果整数部分首位为0，则截取后买的 \n    //     var crash_end_z_first = crash_end_z.substr(0, 1);\n    //     if (crash_end_z_first == '0') {\n    //         crash_end_z = crash_end_z.substr(1);\n    //     }\n    //     if (crash_end_z.length > 12) {\n    //         crash_end_z = crash_end_z.substr(0, 12);\n    //     }\n    //     if (crash_now_strend.split('.').length > 1) {\n    //         var crash_end_l = crash_now_strend.split('.')[1].substr(0, 2);\n    //         crash_now_strend = (crash_end_z - 0) + '.' + crash_end_l;\n    //     } else {\n    //         crash_now_strend = crash_end_z - 0;\n    //     }\n    //     //整数部分最长12位end\n    //     //控制输入长度后赋值并将该值转化为字符串格式\n    //     $(this).val(crash_now_strend);\n    //     crash_now_strend = crash_now_strend.toString();\n    //     var crash_all = $('.js_diff_nump_withdraw').text() - 0;\n    //     var crash_max = $('.js_price_max').text() - 0;\n    //     var crash_min = $('.js_price_min').text() - 0;\n    //     var crash_b_max = (crash_max > crash_all) ? crash_all : crash_max;\n    //     var crash_now = $(this).val() - 0;\n    //     if (crash_all < crash_min) {\n    //         $('.js_dd_redall_emin').show().siblings('dd.errordd_tip').hide();\n    //         $('.js_diff_sub_draw').hide();\n    //         $('.js_diff_fail_draw').show();\n    //         //$(this).val('0.00');\n    //         return false;\n    //     }\n    //     if (crash_now_strend > crash_b_max) {\n    //         if (crash_max > crash_all) {\n    //             $('.js_dd_red_error').show().siblings('dd.errordd_tip').hide();\n    //         } else {\n    //             $('.js_dd_red_emax').show().siblings('dd.errordd_tip').hide();\n    //         }\n    //         //$(this).attr('disabled','disabled');     \n    //         $('.js_diff_fail_draw').show();\n    //         $('.js_diff_sub_draw').hide();\n    //         //$(this).val(crash_b_max);\n    //     } else if (crash_now_strend >= crash_min) {\n    //         $('.js_dd_grey').show().siblings('dd.errordd_tip').hide();\n    //         $('.js_diff_fail_draw').hide();\n    //         $('.js_diff_sub_draw').show().css('display', 'inline-block');\n    //         //$(this).removeAttr('disabled'); \n    //     } else {\n    //         $('.js_dd_red_emin').show().siblings('dd.errordd_tip').hide();\n    //         $('.js_diff_sub_draw').hide();\n    //         $('.js_diff_fail_draw').show();\n    //         //$(this).removeAttr('disabled'); \n    //     }\n    // });\n    $('.js_price_input').on('input', function() {\n        var crash_now_str = $(this).val();\n        //如果输入为空展示全部提现\n        if (crash_now_str.length == 0) {\n            $(this).val('');\n            $('.js_dd_grey').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_sub_draw').hide();\n            $('.js_diff_fail_draw').show();\n            return false;\n        }\n        //字符长的时候减小字号\n        if (crash_now_str.length <= 10) {\n            $(this).css('font-size', '1.1rem');\n        } else {\n            $(this).css('font-size', '0.8rem');\n        }\n        //转化成指定位数的数值\n        var crash_now_strend=price_ctl(12,2,crash_now_str);\n        //控制输入长度后赋值并将该值转化为字符串格式\n        $(this).val(crash_now_strend);\n        crash_now_strend = crash_now_strend.toString();\n        var crash_all = $('.js_diff_nump_withdraw').text() - 0;\n        var crash_max = $('.js_price_max').text() - 0;\n        var crash_min = $('.js_price_min').text() - 0;\n        var crash_b_max = (crash_max > crash_all) ? crash_all : crash_max;\n        var crash_now = $(this).val() - 0;\n        if (crash_all < crash_min) {\n            $('.js_dd_redall_emin').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_sub_draw').hide();\n            $('.js_diff_fail_draw').show();\n            //$(this).val('0.00');\n            return false;\n        }\n        if (crash_now_strend > crash_b_max) {\n            if (crash_max > crash_all) {\n                $('.js_dd_red_error').show().siblings('dd.errordd_tip').hide();\n            } else {\n                $('.js_dd_red_emax').show().siblings('dd.errordd_tip').hide();\n            }\n            //$(this).attr('disabled','disabled');     \n            $('.js_diff_fail_draw').show();\n            $('.js_diff_sub_draw').hide();\n            //$(this).val(crash_b_max);\n        } else if (crash_now_strend >= crash_min) {\n            $('.js_dd_grey').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_fail_draw').hide();\n            $('.js_diff_sub_draw').show().css('display', 'inline-block');\n            //$(this).removeAttr('disabled'); \n        } else {\n            $('.js_dd_red_emin').show().siblings('dd.errordd_tip').hide();\n            $('.js_diff_sub_draw').hide();\n            $('.js_diff_fail_draw').show();\n            //$(this).removeAttr('disabled'); \n        }\n    });\n    //控制输入数字的整数和小数部分，integer_l整数长度，decimal_l小数长度，price输入值\n    function price_ctl(integer_l,decimal_l,price){\n        //将非.和数字的字符替换为空\n        var price_change = price.replace(/[^\\.\\d]/g, '');\n        //如果不需要小数，则禁止.符号的输入\n        if(decimal_l<=0){\n            price_change = price.replace(/[^\\d]/g, '');\n        }\n        //整数部分最长位数位start\n        var integer = price_change.split('.')[0];\n        //如果整数部分首位为0，则截取后面的 \n        var integer_first = integer.substr(0, 1);\n        if (integer_first == '0') {\n            integer = integer.substr(1);\n        }\n        //如果整数部分大于指定长度，则截取指定长度 \n        if (integer.length > integer_l) {\n            integer = integer.substr(0, integer_l);\n        }\n        if (price_change.split('.').length > 1) {\n            //如果有小数，则截取指定长度 \n            var decimal = price_change.split('.')[1].substr(0, decimal_l);\n            price_change = (integer - 0) + '.' + decimal;\n        } else {\n            price_change = integer - 0;\n        }\n        //整数部分最长位数位end\n        return price_change;\n    }\n    //点击提现\n    $('.js_diff_sub_draw').on('click', function() {\n        //弹框提现金额赋值\n        var diff_crash = $('.js_diff_crash').val() - 0;\n        $('.js_diff_alert_crash').text(diff_crash.toFixed(2));\n        $('.js_fee_str_end').text($('.js_fee_str_change').text());\n        //清空密码\n        $('.js_alert_crashpass').val('');\n        $('#pass_input').show();\n        //弹框高度定位，需要在弹框显示之后\n        alert_top('#pass_input');\n        $('.zheceng').show();\n    });\n    //输入密码点击确定\n    $('.js_draw_pass').on('click', function() {\n        pass_draw('.js_alert_crashpass');\n        var red_num = $('.border_red').length;\n        if (red_num > 0) {\n            return false;\n        }\n        sub_draw();\n    });\n    //关闭密码错误弹框--取消\n    $('.js_both_button_fail').on('click', function() {\n        $('#passerror_alert').hide();\n        $('#passerror_alert .alert_con_t').html('');\n        $('.zheceng').hide();\n    });\n    //关闭密码错误弹框--重试\n    $('.js_both_button_right').on('click', function() {\n        $('#passerror_alert').hide();\n        $('#passerror_alert .alert_con_t').html('');\n        //弹框提现金额赋值\n        $('.js_diff_alert_crash').text($('.js_diff_crash').val());\n        $('.js_fee_str_end').text($('.js_fee_str_change').text());\n        //清空密码\n        $('.js_alert_crashpass').val('');\n        $('#pass_input').show();\n        //弹框高度定位，需要在弹框显示之后\n        alert_top('#pass_input');\n        $('.zheceng').show();\n    });\n}());\n\n\n//页面所需公共函数----------------------------------------------------------------------------------------------------------------------------------------------\n\n\n//弹出提示框\nfunction getEvent() {\n    if (window.event) {\n        return window.event;\n    }\n    func = getEvent.caller;\n    while (func != null) {\n        var arg0 = func.arguments[0];\n        if (arg0) {\n            if ((arg0.constructor == Event || arg0.constructor == MouseEvent || arg0.constructor == KeyboardEvent) || (typeof(arg0) == \"object\" && arg0.preventDefault && arg0.stopPropagation)) {\n                return arg0;\n            }\n        }\n        func = func.caller;\n    }\n    return null;\n}\n\nfunction tan_error(e) {\n    var e = getEvent();\n    if (window.event) {\n        //e.returnValue=false;//阻止自身行为\n        e.cancelBubble = true; //阻止冒泡\n    } else if (e.preventDefault) {\n        //e.preventDefault();//阻止自身行为\n        e.stopPropagation(); //阻止冒泡\n    }\n    $('#alert_error').show();\n    $('.zheceng').show();\n}\n\n//提交密码并获取提现授权码及提现金额\nfunction sub_draw() {\n    var draw_pass = $('.js_alert_crashpass').val();\n    $.ajax({\n        url: '/wallet/v1/api/auth',\n        type: 'POST',\n        dataType: 'json',\n        //async:false,\n        data: { \"password\": draw_pass, },\n        beforeSend: function() {\n            $('#pass_input').hide();\n            $('#loading').show();\n            $('.zheceng').show().css('z-index', 13);\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                //$('#pass_input').hide();\n                $('#loading').hide();\n                if (!data['respmsg']) {\n                    $('#passerror_alert .alert_con_t').html(data['resperr']);\n                } else {\n                    $('#passerror_alert .alert_con_t').html(data['respmsg']);\n                }\n                $('#passerror_alert').show();\n                $('.zheceng').show().css('z-index', 10);\n            } else {\n                //$('.zheceng').hide();\n                var return_data = data.data;\n                $('#auth_code').text(return_data.auth_code);\n                sub_draw_diff();\n            }\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            $('.alert_con').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('.alert_con .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            //$('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//提交提现授并请求提现金额\nfunction sub_draw_diff() {\n    var auth_code = $('#auth_code').text();\n    var diff_crash = $('.js_diff_alert_crash').text() - 0;\n    var now_date_val = now_date();\n    $.ajax({\n        url: '/wallet/v1/api/withdraws',\n        type: 'POST',\n        dataType: 'json',\n        //async:false,\n        data: {\n            \"txamt\": (diff_crash * 100).toFixed(0), // 提现金额, 单位: 分\n            \"clidtm\": now_date_val, // 客户端提现时间\n            \"auth_code\": auth_code, // 提现授权码\n        },\n        beforeSend: function() {\n            $('#pass_input').hide();\n            $('#loading').show();\n            $('.zheceng').show().css('z-index', 13);\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#pass_input').hide();\n                $('#tips_alert').show();\n                if (!data['respmsg']) {\n                    $('#tips_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#tips_alert .alert_con_br').html(data['respmsg']);\n                }\n                $('.zheceng').show().css('z-index', 10);\n            } else {\n                $('.zheceng').hide().css('z-index', 10);\n                var detail_biz_sn = data.data.biz_sn;\n                //toto调到详情页\n                window.location.href = '/wallet/v1/page/withdraw/result.html?biz_sn=' + detail_biz_sn;\n            }\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            $('#pass_input').hide();\n            $('#tips_alert').show();\n            $('.zheceng').show().css('z-index', 10);\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#tips_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n            $('#pass_input').hide().css('display', 'none');\n        }\n    });\n}\n//获取提现页面信息\nfunction get_withdraw() {\n    $.ajax({\n        url: '/wallet/v1/api/withdraw/info',\n        type: 'GET',\n        dataType: 'json',\n        data: {},\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#tips_alert').show();\n                if (!data['respmsg']) {\n                    $('#tips_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#tips_alert .alert_con_br').html(data['respmsg']);\n                }\n                $('.zheceng').show();\n            } else {\n                $('.zheceng').hide();\n                var return_data = data.data;\n                var return_fee = (return_data.procedure_fee / 100).toFixed(2);\n                var return_fee_max = (return_data.txamt_max / 100).toFixed(2);\n                var return_fee_min = (return_data.txamt_min / 100).toFixed(2);\n                var return_feeday_min = (return_data.txamt_allow / 100).toFixed(2);\n                $('.js_bank_name').text(return_data.card_issuing_bank);\n                $('.js_bank_foot').text(return_data.card_tail_number);\n                $('.js_fee_str').text(return_fee);\n                $('.js_eta_str').text(return_data.eta / 60);\n                $('.js_date_str').text(return_data.eta_point); //到账时间\n                $('.js_fee_str_change').text(return_fee);\n                $('.js_price_min').text(return_fee_min);\n                $('.js_price_max').text(return_fee_max);\n                $('.js_priceday_min').text(return_feeday_min);\n            }\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            $('#tips_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#tips_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取账户余额\nfunction get_diffcrash(id) {\n    $.ajax({\n        url: '/wallet/v1/api/balance',\n        type: 'GET',\n        dataType: 'json',\n        data: {},\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng1').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#tips_alert').show();\n                if (!data['respmsg']) {\n                    $('#tips_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#tips_alert .alert_con_br').html(data['respmsg']);\n                }\n                $('.zheceng1').show();\n            } else {\n                $('.zheceng1').hide();\n                var return_data = data.data;\n                var diff_all = (return_data.txamt / 100).toFixed(2);\n                $(id).text(diff_all);\n                //控制体现按钮是可以可以点击--判断是否正字提现进行中\n                if_difftime(diff_all);\n            }\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            $('#tips_alert').show();\n            $('.zheceng1').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#tips_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng1').hide();\n        }\n    });\n}\n//判断是否符合提现时间\nfunction if_difftime(diff_val) {\n    $.ajax({\n        url: '/wallet/v1/api/withdraw/info',\n        type: 'GET',\n        dataType: 'json',\n        data: {},\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#tips_alert').show();\n                if (!data['respmsg']) {\n                    $('#tips_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#tips_alert .alert_con_br').html(data['respmsg']);\n                }\n                $('.zheceng').show();\n            } else {\n                $('.zheceng').hide();\n                var return_data = data.data;\n                var diff_iftime = return_data.withdraw_range;\n                var diff_time_s = return_data.withdraw_st;\n                var diff_time_e = return_data.withdraw_et;\n                $('.js_time_s').text(diff_time_s);\n                $('.js_time_e').text(diff_time_e);\n                //判断是否正在提现进行中\n                var diff_ing = return_data.is_last_withdrawing;\n                if (diff_ing) {\n                    $('.js_diff_ing').show();\n                    $('.js_diffindex_sub').hide();\n                } else {\n                    //没有进行中，显示提现按钮\n                    $('.js_diff_ing').hide();\n                    $('.js_diffindex_sub').show();\n                }\n                //判断是否有时间提示\n                // if (diff_iftime == '1') {\n                //     //符合时间\n                //     //控制体现按钮是可以可以点击--根据余额值\n                //     if (diff_val <= 0) {\n                //         $('.js_diffindex_sub').addClass('diff_sub0');\n                //     } else {\n                //         $('.js_diffindex_sub').removeClass('diff_sub0');\n                //     }\n                // } else {\n                //     //超出时间--按钮不能点击--取消时间提示框\n                //     $('.js_diffindex_sub').addClass('diff_sub0');\n                //     $('#time_tips').show();\n                //     $('.zheceng1').show();\n                // }\n            }\n        },\n        error: function(XMLHttpRequest, textStatus, errorThrown) {\n            $('#tips_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#tips_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取当前时间\nfunction now_date() {\n    var n_date = new Date();\n    var n_date_year = n_date.getFullYear();\n    var n_date_mon = tow_num(n_date.getMonth() + 1);\n    var n_date_day = tow_num(n_date.getDate());\n    var n_date_h = tow_num(n_date.getHours());\n    var n_date_m = tow_num(n_date.getMinutes());\n    var n_date_mm = tow_num(n_date.getSeconds());\n    var n_date_end = n_date_year + \"-\" + n_date_mon + \"-\" + n_date_day + \" \" + n_date_h + \":\" + n_date_m + \":\" + n_date_mm;\n    return n_date_end;\n}\n//如果小于10，则十位显示0\nfunction tow_num(arm) {\n    var arm_num = \"0\" + arm;\n    var arm_num_end = arm_num.substr(-2, 2);\n    return arm_num_end;\n}\n//验证输入密码\nfunction pass_draw(id) {\n    var id_val = $(id).val();\n    var id_val_l = id_val.length;\n    if (id_val_l < 6 || id_val_l > 20) {\n        $(id).addClass('border_red');\n    } else {\n        $(id).removeClass('border_red');\n    }\n}\n//弹框高度定位\nfunction alert_top(id) {\n    var alert_height = $(id).height();\n    var mar_t = alert_height / 2;\n    $(id).css('marginTop', -mar_t + 'px');\n}\n//关闭弹框\n$('.js_alert_con_close').on('click', function() {\n    $('.alert_con').hide();\n    $('.alert_con .alert_con_br').html();\n    $('.zheceng').hide();\n    $('.zheceng1').hide();\n});\n$('.js_alert_con_close1').on('click', function() {\n    $('.alert_con').hide();\n    $('.js_alert_crashpass').val('');\n    $('.zheceng').hide();\n    $('.zheceng1').hide();\n});\n"]}