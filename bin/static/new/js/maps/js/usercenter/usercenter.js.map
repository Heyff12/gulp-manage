{"version":3,"sources":["usercenter/usercenter.js"],"names":["hideMenu","WeixinJSBridge","call","get_dl","console","log","dl_data_set","dl_data_set_l","size","data_arr","ind","Math","random","toFixed","data_arr_n","add","dl_data_set_new_l","li_detail","$","append","get_rechargelist","ajax","url","type","dataType","data","c","get_hash","h","pos","val","count","beforeSend","show","success","respcd","html","return_data","each","i","item","tx_name","tx_price","dl_data","map","this","attr","get","length","tx_pay_amt","txamt","pay_amt","tx_present_amt","present_amt","tx_pay_amt0","tx_present_amt0","tx_time","sysdtm","tx_status","biz_type","biz_sn","bizn_has","pos_val","hide","error","complete","get_rechargelist_set","get_rechargedetail","userid","tx_fee","balance","tx_url_pay","pay_url","tx_url_add","recharge_url","tx_url_list","prepaid_detail","tx_merchant_name","merchant_name","tx_expired","expired","document","title","text","get_rule_detail","return_data_l","get_rechargeli_c","data_length","max_cashback_amt","tx_txamt","tx_merchant_url","merchant_url","tx_recharge_url","hash_val","c_val","location","href","split","url_l","url_l_l","url_val","now_date","n_date","Date","n_date_year","getFullYear","n_date_mon","tow_num","getMonth","n_date_day","getDate","n_date_h","getHours","n_date_m","getMinutes","n_date_mm","getSeconds","n_date_end","arm","arm_num","arm_num_end","substr","alert_top","id","alert_height","height","mar_t","css","addEventListener","attachEvent","ready","on","url_detail","parents","Set"],"mappings":"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","file":"../../../usercenter/usercenter.js","sourcesContent":["\"use strict\";\n\nfunction hideMenu() {\n    WeixinJSBridge.call('hideOptionMenu');\n    WeixinJSBridge.call('hideToolbar');\n}\nif (typeof WeixinJSBridge == \"undefined\") {\n    if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', hideMenu, false);\n    } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', hideMenu);\n        document.attachEvent('onWeixinJSBridgeReady', hideMenu);\n    }\n} else {\n    hideMenu();\n}\n//个人中心首页----------------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_usercenter_index').get(0) && (~ function() {\n    $(document).ready(function() {\n        //获取储值列表todo-show\n        //get_rechargeli_c();\n        //点击进入储值详情\n        $('.js_usercenter_ul li header').on('click', function() {\n            var url_detail = $(this).parents('li').attr('data-url');\n            location.href = url_detail;\n        });\n        $('.js_usercenter_ul li .zhe').on('click', function() {\n            var url_detail = $(this).parents('li').attr('data-url');\n            location.href = url_detail;\n        });\n    });\n}());\n//个人中心详情----------------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_usercenter_detail').get(0) && (~ function() {\n    $(document).ready(function() {\n        //获取储值详情todo-show\n        //get_rechargedetail();\n    });\n}());\n// var dl_data = $(\".js_datadl\").map(function() {\n//     return $(this).attr('data-bizsn');\n// }).get();\nvar dl_data = $(\".js_datadl\").map(function() {\n    return $(this).attr('data-bizsn');\n});\nvar dl_data_set = new Set(dl_data.get(0));\n//个人中心列表----------------------------------------------------------------------------------------------------------------------------------------------------\n$('.js_usercenter_list').get(0) && (~ function() {\n    $(document).ready(function() {\n        //获取储值列表todo-show\n        //get_rechargelist();\n        // 初始化插件内容------作废\n        // var opt_data = {\n        //     preset: 'date', //日期格式 date（日期）|datetime（日期加时间）\n        //     theme: 'jqm', //皮肤样式\n        //     display: 'modal', //显示方式\n        //     mode: 'clickpick', //日期选择模式\n        //     dateFormat: 'yy-mm', // 日期格式\n        //     setText: '确定', //确认按钮名称\n        //     cancelText: '取消', //取消按钮名籍我\n        //     dateOrder: 'yymmdd', //面板中日期排列格式\n        //     dayText: '日',\n        //     monthText: '月',\n        //     yearText: '年', //面板中年月日文字\n        //     yearText: '年',\n        //     monthText: '月',\n        //     dayText: '日', //面板中年月日文字\n        //     endYear: 2020, //结束年份\n        //     showNow: true,\n        //     nowText: '今天',\n        //     hourText: '小时',\n        //     minuteText: '分'\n        // };\n        // 使用定义插件------作废\n        //$(\"#f_companydate\").mobiscroll(opt_data);\n        //根据日期查询\n        // $('.js_date_history').on('click', function() {\n        //     $('.js_diff_get').html('');\n        //     get_rechargelist();\n        // });\n    });\n    //点击查看更多\n    $('.js_click_more').on('click', function() {\n        //get_history_touch();\n        //测试去重\n        get_dl();\n    });\n}());\n// var dl_data_set_l=dl_data_set.size;\n// // console.log(dl_data);\n// // console.log(dl_data.length);\n// // console.log(dl_data_set);\n// // console.log(dl_data_set.size);\n// var dl_data_new=new Set(['20160922004499345690']);\n// dl_data_set=new Set([...dl_data_set, ...dl_data_new]);\n// var dl_data_set_new_l=dl_data_set.size;\n// if(dl_data_set_new_l==dl_data_set_l){\n//     console.log(dl_data_set);\n//     console.log('相同排除');\n// }else{\n//     console.log(dl_data_set);\n//     console.log('不同添加');\n// }\n// var dl_data_new1=new Set(['20160922004499345690']);\n// dl_data_set=new Set([...dl_data_set, ...dl_data_new1]);\n// var dl_data_set_new_l1=dl_data_set.size;\n// if(dl_data_set_new_l1==dl_data_set_l){\n//     console.log(dl_data_set);\n//     console.log('相同排除');\n// }else{\n//     console.log(dl_data_set);\n//     console.log('不同添加');\n// }\n//测试去重\nfunction get_dl() {\n    console.log(dl_data_set);\n    var dl_data_set_l = dl_data_set.size;\n    var data_arr = ['20160922004499345678', '20160922004499345692', '20160922004499345699', '20160922004499345694', '20160922004499345695', '20160922004499345696', '20160922004499345697', '20160922004499345690', '20160922004499345698', '20160922004499345699', '20160922004499345992'];\n    var ind = (Math.random() * 10).toFixed(0);\n    var data_arr_n = [data_arr[ind]];\n    console.log(ind);\n    // var dl_data_new = new Set(data_arr_n);\n    // dl_data_set = new Set([...dl_data_set, ...dl_data_new]);\n    dl_data_set.add(data_arr[ind]);\n    var dl_data_set_new_l = dl_data_set.size;\n    if (dl_data_set_new_l === dl_data_set_l) {\n        console.log('相同' + dl_data_set + '____' + data_arr_n);\n        return false;\n    } else {\n        console.log('不同' + dl_data_set + '____' + data_arr_n);\n    }\n    var li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + data_arr[ind] + '\"><dt>-48.00</dt><dd>储值消费</dd><dd class=\"grey\">2016-08-10 15:06:55</dd><div class=\"clearfix\"></div></dl>';\n    $(\"#js_diff_get\").append(li_detail);\n}\n//获取储值列表\nfunction get_rechargelist() {\n    $.ajax({\n        url: '/prepaid/v1/api/transactions',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n            'pos': $('#js_pos').val(),\n            'count': 20,\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                $(return_data).each(function(i, item) {\n                    var dl_data = $(\".js_datadl\").map(function() {\n                        return $(this).attr('data-bizsn');\n                    }).get();\n                    var dl_data_set_l = dl_data.length;\n                    var tx_txamt = (return_data[i].txamt / 100).toFixed(2);\n                    var tx_pay_amt = (return_data[i].pay_amt / 100).toFixed(2);\n                    var tx_present_amt = (return_data[i].present_amt / 100).toFixed(2);\n                    var tx_pay_amt0 = (return_data[i].pay_amt / 100).toFixed(0);\n                    var tx_present_amt0 = (return_data[i].present_amt / 100).toFixed(0);\n                    var tx_time = return_data[i].sysdtm;\n                    var tx_status = return_data[i].biz_type;\n                    var biz_sn = return_data[i].biz_sn;\n                    var tx_name, tx_price;\n                    var li_detail;\n                    //判断流水号是否重复\n                    var bizn_has = '0';\n                    for (var i = dl_data_set_l - 1; i > 0; i--) {\n                        if (dl_data[i] == biz_sn) {\n                            bizn_has = '1';\n                            break;\n                        }\n                    }\n                    if (bizn_has == '1') {\n                        return true;\n                    }\n                    if (tx_status == '1') {\n                        tx_name = '储值';\n                        tx_price = '+' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt class=\"orange\">+' + tx_present_amt + '</dt><dd>储值赠送<span class=\"buy_back orange\">储值' + tx_pay_amt0 + '送' + tx_present_amt0 + '</span></dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl><dl><dt class=\"orange\">' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    } else {\n                        tx_name = '储值消费';\n                        tx_price = '-' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt>' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    }\n                    $(\"#js_diff_get\").append(li_detail);\n                });\n                var pos_val = $('#js_pos').val() - 0;\n                if (return_data.length < 20) {\n                    $('#alert_alert').show();\n                    $('#alert_alert .alert_con_br').html('数据已加载完毕');\n                    $('.zheceng1').show();\n                    $('.js_click_more').hide();\n                } else {\n                    $('.js_click_more').show();\n                    pos_val += 20;\n                    $('#js_pos').val(pos_val);\n                }\n                $('.zheceng').hide();\n            }\n        },\n        error: function(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\nfunction get_rechargelist_set() {\n    $.ajax({\n        url: '/prepaid/v1/api/transactions',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n            'pos': $('#js_pos').val(),\n            'count': 20,\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                $(return_data).each(function(i, item) {\n                    var tx_txamt = (return_data[i].txamt / 100).toFixed(2);\n                    var tx_pay_amt = (return_data[i].pay_amt / 100).toFixed(2);\n                    var tx_present_amt = (return_data[i].present_amt / 100).toFixed(2);\n                    var tx_time = return_data[i].sysdtm;\n                    var tx_status = return_data[i].biz_type;\n                    var biz_sn = return_data[i].biz_sn;\n                    var tx_name, tx_price;\n                    var li_detail;\n                    //判断流水号是否重复\n                    var dl_data_set_l = dl_data_set.size;\n                    // var dl_data_new = new Set([biz_sn]);\n                    // dl_data_set = new Set([...dl_data_set, ...dl_data_new]);\n                    dl_data_set.add(biz_sn);\n                    var dl_data_set_new_l = dl_data_set.size;\n                    if (dl_data_set_new_l === dl_data_set_l) {\n                        return false;\n                    }\n                    if (tx_status == '1') {\n                        tx_name = '储值';\n                        tx_price = '+' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt class=\"orange\">+' + tx_present_amt + '</dt><dd>储值赠送<span class=\"buy_back orange\">储值' + tx_pay_amt + '送' + tx_present_amt + '</span></dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl><dl><dt class=\"orange\">' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    } else {\n                        tx_name = '储值消费';\n                        tx_price = '-' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt>' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    }\n                    $(\"#js_diff_get\").append(li_detail);\n                });\n                var pos_val = $('#js_pos').val() - 0;\n                if (return_data.length < 20) {\n                    $('#alert_alert').show();\n                    $('#alert_alert .alert_con_br').html('数据已加载完毕');\n                    $('.zheceng').show();\n                    $('.js_click_more').hide();\n                } else {\n                    $('.js_click_more').show();\n                    pos_val += 20;\n                    $('#js_pos').val(pos_val);\n                }\n                $('.zheceng').hide();\n            }\n        },\n        error: function(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取余额提列表页详情-向上滑动刷新---取消使用\nfunction get_rechargelist() {\n    $.ajax({\n        url: '/prepaid/v1/api/transactions',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n            'pos': $('#js_pos').val(),\n            'count': 20,\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var dl_data = $(\".js_datadl\").map(function() {\n                    return $(this).attr('data-bizsn');\n                }).get();\n                $(return_data).each(function(i, item) {\n                    var tx_txamt = (return_data[i].txamt / 100).toFixed(2);\n                    var tx_pay_amt = (return_data[i].pay_amt / 100).toFixed(2);\n                    var tx_present_amt = (return_data[i].present_amt / 100).toFixed(2);\n                    var tx_time = return_data[i].sysdtm;\n                    var tx_status = return_data[i].biz_type;\n                    var biz_sn = return_data[i].biz_sn;\n                    var tx_name, tx_price;\n                    var li_detail;\n                    //判断流水号是否重复\n                    var dl_data_set_l = dl_data_set.size;\n                    // var dl_data_new = new Set([biz_sn]);\n                    // dl_data_set = new Set([...dl_data_set, ...dl_data_new]);\n                    dl_data_set.add(biz_sn);\n                    var dl_data_set_new_l = dl_data_set.size;\n                    if (dl_data_set_new_l === dl_data_set_l) {\n                        return false;\n                    }\n                    if (tx_status == '1') {\n                        tx_name = '储值';\n                        tx_price = '+' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt class=\"orange\">+' + tx_present_amt + '</dt><dd>储值赠送<span class=\"buy_back orange\">储值' + tx_pay_amt + '送' + tx_present_amt + '</span></dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl><dl><dt class=\"orange\">' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    } else {\n                        tx_name = '储值消费';\n                        tx_price = '-' + tx_pay_amt;\n                        li_detail = '<dl class=\"js_datadl\" data-bizsn=\"' + biz_sn + '\"><dt>' + tx_price + '</dt><dd>' + tx_name + '</dd><dd class=\"grey\">' + tx_time + '</dd><div class=\"clearfix\"></div></dl>';\n                    }\n                    $(\"#js_diff_get\").append(li_detail);\n                });\n                var pos_val = $('#js_pos').val() - 0;\n                if (return_data.length < 20) {\n                    $('#alert_alert').show();\n                    $('#alert_alert .alert_con_br').html('数据已加载完毕');\n                    $('.zheceng').show();\n                    $('.js_click_more').hide();\n                } else {\n                    $('.js_click_more').show();\n                    pos_val += 20;\n                    $('#js_pos').val(pos_val);\n                }\n                $('.zheceng').hide();\n            }\n        },\n        error: function(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取储值详情\nfunction get_rechargedetail() {\n    var userid = get_hash('h');\n    $.ajax({\n        url: '/prepaid/v1/api/c/merchants/' + userid,\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var tx_fee = (return_data.balance / 100).toFixed(2);\n                var tx_url_pay = return_data.pay_url;\n                var tx_url_add = return_data.recharge_url;\n                var tx_url_list = return_data.prepaid_detail;\n                var tx_merchant_name = return_data.merchant_name;\n                var tx_expired = return_data.expired;\n                document.title = tx_merchant_name;\n                $('.js_detail_price').text(tx_fee);\n                $('.js_charge_list').attr('href', tx_url_list);\n                $('.js_detail_buy').attr('href', tx_url_add);\n                $('.js_detail_pay').attr('href', tx_url_pay);\n                if(tx_expired!='0'){\n                    $('.js_detail_buy').hide();\n                }else{\n                    $('.js_detail_buy').show();\n                }\n                $('.zheceng').hide();\n            }\n        },\n        error: function(data) {\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取储值规则\nfunction get_rule_detail() {\n    $.ajax({\n        url: '/prepaid/v1/api/c/rulexplain',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n            'h': get_hash('h'),\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng1').show();\n        },\n        success: function(data) {\n            if (data.respcd != '0000') {\n                $('#alert_alert').show();\n                $('.zheceng1').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                var return_data = data.data;\n                var return_data_l = return_data.length;\n                for (var i = 0; i < return_data_l; i++) {\n                    var li_detail = '<li><span>' + return_data[i] + '</span></li>';\n                    $(\".js_ul_rules\").append(li_detail);\n                }\n                $('.zheceng1').hide();\n            }\n        },\n        error: function(data) {\n            $('#alert_alert').show();\n            $('.zheceng1').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取储值首页列表\nfunction get_rechargeli_c() {\n    //alert('获取列表');\n    $.ajax({\n        url: '/prepaid/v1/api/c/merchants',\n        type: 'GET',\n        dataType: 'json',\n        data: {\n            'c': get_hash('c'),\n        },\n        beforeSend: function() {\n            $('#loading').show();\n            $('.zheceng').show();\n        },\n        success: function(data) {\n            //alert('获取列表success');\n            if (data.respcd != '0000') {\n                //alert('获取列表success-error');\n                $('#alert_alert').show();\n                $('.zheceng').show();\n                if (!data['respmsg']) {\n                    $('#alert_alert .alert_con_br').html(data['resperr']);\n                } else {\n                    $('#alert_alert .alert_con_br').html(data['respmsg']);\n                }\n            } else {\n                //alert('获取列表success-in');\n                var return_data = data.data;\n                var data_length = return_data.length;\n                $('.js_company_num').text(data_length);\n                if (data_length == '0') {\n                    $('.zheceng').hide();\n                    return false;\n                }\n                $(return_data).each(function(i, item) {\n                    var tx_fee = (return_data[i].max_cashback_amt / 100).toFixed(0); //返现最高金额\n                    var tx_txamt = (return_data[i].balance / 100).toFixed(2);\n                    var tx_name = return_data[i].merchant_name;\n                    var tx_merchant_url = return_data[i].merchant_url;\n                    var tx_recharge_url = return_data[i].recharge_url;\n                    var tx_url_pay = return_data[i].pay_url;\n                    var tx_url = return_data[i].prepaid_detail;\n                    var li_detail = '<li data-url=\"' + tx_merchant_url + '\"><header><span class=\"js_company_name\">' + tx_name + '</span></header><p class=\"grey\">储值余额</p><p class=\"price orange\">￥<span class=\"js_company_diff\">' + tx_txamt + '</span></p><dl class=\"company_dl\"><dt><i class=\"sale\"></i>最高返现金额达<span class=\"js_company_sale\">' + tx_fee + '</span>元</dt><dd class=\"js_recharge_now\"><a href=\"' + tx_recharge_url + '\">立即储值</a></dd><div class=\"clearfix\"></div></dl><span class=\"bg_img\"></span><span class=\"zhe\"></span></li>';\n                    $(\".js_usercenter_ul\").append(li_detail);\n                });\n                $('.zheceng').hide();\n            }\n        },\n        error: function(data) {\n            //alert('获取列表error');\n            $('#alert_alert').show();\n            $('.zheceng').show();\n            //$('.alert_con .alert_con_br').html('XMLHttpRequest.readyState:'+XMLHttpRequest.readyState+',XMLHttpRequest.status:'+XMLHttpRequest.status+',textStatus:'+textStatus+'!');\n            $('#alert_alert .alert_con_br').html('网络超时!');\n        },\n        complete: function() {\n            $('#loading').hide();\n            //$('.zheceng').hide();\n        }\n    });\n}\n//获取url的指定hash值\nfunction get_hash(hash_val) {\n    var c_val;\n    if (location.href.split('?').length < 2) {\n        return false;\n    }\n    var url_l = location.href.split('?')[1].split('&');\n    var url_l_l = url_l.length;\n    for (var i = 0; i < url_l_l; i++) {\n        var url_val = url_l[i].split('=');\n        if (url_val[0] == hash_val) {\n            c_val = url_val[1];\n            return c_val;\n        }\n    }\n}\n//获取当前时间\nfunction now_date() {\n    var n_date = new Date();\n    var n_date_year = n_date.getFullYear();\n    var n_date_mon = tow_num(n_date.getMonth() + 1);\n    var n_date_day = tow_num(n_date.getDate());\n    var n_date_h = tow_num(n_date.getHours());\n    var n_date_m = tow_num(n_date.getMinutes());\n    var n_date_mm = tow_num(n_date.getSeconds());\n    var n_date_end = n_date_year + \"-\" + n_date_mon + \"-\" + n_date_day + \" \" + n_date_h + \":\" + n_date_m + \":\" + n_date_mm;\n    return n_date_end;\n}\n//如果小于10，则十位显示0\nfunction tow_num(arm) {\n    var arm_num = \"0\" + arm;\n    var arm_num_end = arm_num.substr(-2, 2);\n    return arm_num_end;\n}\n//通用--------------------------------------------------------------------------------------------------------\n//弹框高度定位\nfunction alert_top(id) {\n    var alert_height = $(id).height();\n    var mar_t = alert_height / 2;\n    $(id).css('marginTop', -mar_t + 'px');\n}\n//关闭弹框\n$('.js_alert_con_close').on('click', function() {\n    $('.alert_con').hide();\n    // $('.alert_con .alert_con_br').html();\n    $('.zheceng').hide();\n    $('.zheceng1').hide();\n});\n"]}