{"version":3,"sources":["recharge/protol.js"],"names":["hideMenu","WeixinJSBridge","call","document","addEventListener","attachEvent","require","$","ajax_rule","get_merchant","return_data","shopname","get_bindinfo_if","recharge_num","recharge","data_bindinfo","c","get_hash","get_bindinfo","mobile","text","c_val","hash_val","location","href","split","length","url_l_l","url_l","url_val","ready","h","data_merchant","data_before","o","grid_index"],"mappings":";;;;;;YAAA,SAASA,YACLC,eAAeC,KAAK,kBADxBD,eAAAC,KAAoB,eAEI,mBAApBD,gBACHE,SAAAC,iBACGD,SAAOF,iBAAkB,sBAAaD,UAAA,GAClCG,SAASC,cACTD,SAASC,YAAAA,sBAAiBJ,UAD9BG,SAEWA,YAASE,wBAAaL,WAGhCA,WAEDA,SAAAA,qBAAAA,WACHM,SAAA,QAAA,aAAA,SAAAC,EAAAC,GACOD,EAAC,WAmBI,QAfDE,GAAAC,GAgBA,GAAAC,GAAAD,EAAAC,QACAJ,GAAA,gBAAsBG,KAAAA,GAGrB,QAAAE,GAAAF,GACD,GAAAG,GAAAH,EAAAI,QACA,IAAA,KAAAD,OAEQA,CAGA,GAAIE,IACAC,EAAKC,EAAS,KAElBT,GAAUA,UAAU,8BAA+B,MAAO,OAAQO,EAAe,YAAaG,IAMlG,QAAIC,GAAST,GACbH,GAAEY,GAAAT,EAAmBS,MACxBZ,GAAA,cAAAa,KAAAD,GAIG,QAAIE,GAAJC,GACA,GAAIC,EACA,IAAAA,SAAOC,KAAPC,MAAA,KAAAC,OAAA,EACH,OAAA,CAIG,KAAA,GAFAC,GAAAA,SAAgBD,KAApBD,MAAA,KAAA,GAAAA,MAAA,KACAE,EAAAC,EAAoBD,OACZE,EAAAA,EAAAA,EAAUD,EAASH,IAAM,CAC7B,GAAII,GAAAD,EAAcN,GAAAA,MAAU,IACxBD,IAAAA,EAAQQ,IAAAA,EAEX,MADGR,GAAOA,EAAP,IAtDdd,EAAAJ,UAAW2B,MAAA,WAEP3B,GAAAA,IACE4B,EAAAd,EAAA,KAEIT,GAAKS,UAAS,kCAAT,MAAA,OAAAe,EAAA,WAAAvB,EAKT,IAAIwB,IADJjB,EAAAC,EAAA,KACIgB,EAAAA,EAAc,KACdC,EAAKjB,EAAS,KACdkB,WAAc,IAEd3B,GAAAA,UAAc,oCAAA,MAAA,OAAAyB,EAAA,YAAArB","file":"../../../recharge/protol.js","sourcesContent":["function hideMenu() {\n    WeixinJSBridge.call('hideOptionMenu');\n    WeixinJSBridge.call('hideToolbar');\n}\nif (typeof WeixinJSBridge == \"undefined\") {\n    if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady', hideMenu, false);\n    } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', hideMenu);\n        document.attachEvent('onWeixinJSBridgeReady', hideMenu);\n    }\n} else {\n    hideMenu();\n}\nrequire(['../require-config'], function() {\n    require([\"zepto\", \"ajax_rule\"], function($, ajax_rule) {\n        $(function() {\n            //储值协议----------------------------------------------------------------------------------------------------------------------------------------------------           \n            $(document).ready(function() {                \n                //获取商家名称\n                var data_merchant = {\n                    'h': get_hash('h'),\n                };\n                ajax_rule.ajax_rule('/prepaid/v1/api/c/merchant_info', 'GET', 'json', data_merchant, '.zheceng', get_merchant);\n\n                //获取储值账户       \n                var data_before = {\n                    'c': get_hash('c'),\n                    'h': get_hash('h'),\n                    'o': get_hash('o'),\n                    'grid_index': '1',\n                };\n                ajax_rule.ajax_rule('/prepaid/v1/api/c/recharge/before', 'GET', 'json', data_before, '.zheceng2', get_bindinfo_if);       \n            });\n            //获取商家名称\n            function get_merchant(return_data) {\n                var shopname = return_data.shopname;\n                $('.js_shopname').text(shopname);\n            }\n            //判断是否调用--储值账户\n            function get_bindinfo_if(return_data) {\n                var recharge_num = return_data.recharge;\n                if (recharge_num == '0') {\n                    \n                } else {\n                    var data_bindinfo = {\n                        'c': get_hash('c'),\n                    };\n                    ajax_rule.ajax_rule(' /prepaid/v1/api/c/bindinfo', 'GET', 'json', data_bindinfo, '.zheceng1', get_bindinfo);\n                }\n\n            }\n            //获取储值账户\n            function get_bindinfo(return_data) {\n                var mobile = return_data.mobile;\n                $('.js_mobile').text(mobile);              \n            }\n            //通用--------------------------------------------------------------------------------------------------------\n            //获取url的指定hash值\n            function get_hash(hash_val) {\n                var c_val;\n                if (location.href.split('?').length < 2) {\n                    return false;\n                }\n                var url_l = location.href.split('?')[1].split('&');\n                var url_l_l = url_l.length;\n                for (var i = 0; i < url_l_l; i++) {\n                    var url_val = url_l[i].split('=');\n                    if (url_val[0] == hash_val) {\n                        c_val = url_val[1];\n                        return c_val;\n                    }\n                }\n            }\n        })\n    });\n});\n"]}